\chapter{Folders}
\label{cha:Folders}
{\em Folders} s√£o como dobras nas quais o Vim esconde partes do texto,
algo assim:

\begin{verbatim}
     +-- 10 linhas ---------------------------
\end{verbatim}

Deste ponto em diante chamaremos os {\em folders} descritos no manual do
Vim como dobras!  Quando tiver que manipular grandes quantidades de
texto tente usar dobras, isto permite uma visualiza√ß√£o completa do
texto.  Um modo de entender rapidamente como funcionam as dobras no
Vim seria criando uma ``dobra'' para as pr√≥ximas 10 (dez) linhas com o
comando abaixo:

\begin{verbatim}
     zf10j
\end{verbatim}

Voc√™ pode ainda criar uma sele√ß√£o visual

\begin{verbatim}
     Shift-v ............ sele√ß√£o por linha
     j .................. desce linha
     zf ................. cria o folder
     zo ................. abre o folder
\end{verbatim}

\section{M√©todos de dobras }
\label{M√©todos de dobras }
O Vim tem seis modos {\em fold}, s√£o eles:

\begin{itemize}
\item Sintaxe ({\em syntax})
\item Indenta√ß√£o ({\em indent})
\item Marcas ({\em marker})
\item Manual
\item Diferen√ßas ({\em diff})
\item expres√µes ({\em Express√µes Regulares})
\end{itemize}

Para determinar o tipo de dobra fa√ßa

\begin{verbatim}
     :set foldmethod=tipo
\end{verbatim}

onde o tipo pode ser um dos tipos listados acima, exemplo:

\begin{verbatim}
     :set foldmethod=marker
\end{verbatim}

Outro modo para determinar o m√©todo de dobra seria colocando na √∫ltima
linha do seu arquivo algo assim:

\begin{verbatim}
     vim:fdm=marker:fdl=0:
\end{verbatim}

Obs: \verb|fdm| significa {\em foldmethod}, e \verb|fdl| significa
{\em foldlevel}. Deve haver um espa√ßo entre a palavra inicial ``vim'' e o
come√ßo da linha este recurso chama-se {\em modeline}, leia mais na se√ß√£o
``\ref{sec:Modelines} modelines'' na p√°gina \pageref{sec:Modelines}.

\section{Manipulando dobras }\label{Manipulando dobras }

\begin{verbatim}
     zo .......... abre a dobra
     zO .......... abre a dobra, recursivamente
     za .......... abre/fecha (alterna) a dobra
     zA .......... abre/fecha (alterna) a dobra, recursivamente
     zR .......... abre todas as dobras do arquivo atual
     zc .......... fecha uma dobra
     zC .......... fecha a dobra abaixo do cursor, recursivamente
     zfap ........ cria uma dobra para o par√°grafo `ap' atual
     zf/casa ..... cria uma dobra at√© a palavra casa
     zf'a ........ cria uma dobra at√© a marca `a'
     zd .......... apaga a dobra (n√£o o seu conte√∫do)
     zj .......... move para o in√≠cio da pr√≥xima dobra
     zk .......... move para o final da dobra anterior
     [z .......... move o cursor para in√≠cio da dobra aberta
     ]z .......... move o cursor para o fim da dobra aberta
     zi .......... desabilita ou habilita as dobras
     zm, zr ...... diminui/aumenta n√≠vel da dobra `fdl'
     :set fdl=0 .. n√≠vel da dobra 0 (foldlevel)
\end{verbatim}

Para abrir e fechar as dobras usando a barra de
espa√ßos coloque o trecho abaixo no seu arquivo de configura√ß√£o do Vim
\verb|.vimrc| - veja \ref{cha:Como editar prefer√™ncias no Vim}.

\begin{verbatim}
     nnoremap <space> @=((foldclosed(line(".")) < 0) ? 'zc' : 'zo')<CR>
\end{verbatim}

Para abrir e fechar as dobras utilizando o clique do mouse, basta
acrescentar na configura√ß√£o do seu \verb|.vimrc|:

\begin{verbatim}
     set foldcolumn=2
\end{verbatim}

o que adiciona uma coluna ao lado da coluna de enumeraÁ„o das linhas.

\section{Criando dobras usando o modo visual}
\label{Criando folders usando o modo visual}
Para iniciar a sele√ß√£o visual

\begin{verbatim}
     Esc ........ vai para o modo normal
     shift-v .... inicia sele√ß√£o visual
     j .......... aumenta a sele√ß√£o visual (desce)
     zf ......... cria a dobra na sele√ß√£o ativa
\end{verbatim}

Um modo inusitado de se criar dobras √©:

\begin{verbatim}
     Shift-v ..... inicia sele√ß√£o visual
     /chapter/-2 . extende a sele√ß√£o at√© /chapter -2 linhas
     zf .......... cria a dobra
\end{verbatim}
